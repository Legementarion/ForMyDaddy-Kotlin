package com.lego.admin.formydaddy.activityimport android.os.Bundleimport android.support.design.widget.NavigationViewimport android.support.v4.view.GravityCompatimport android.support.v7.app.ActionBarDrawerToggleimport android.view.MenuItemimport android.widget.ImageButtonimport com.arellomobile.mvp.MvpAppCompatActivityimport com.arellomobile.mvp.presenter.InjectPresenterimport com.lego.admin.formydaddy.Rimport com.lego.admin.formydaddy.presenter.MainPresenterimport com.lego.admin.formydaddy.presenter.MainViewimport kotlinx.android.synthetic.main.activity_play.*import kotlinx.android.synthetic.main.app_bar_play.*import kotlinx.android.synthetic.main.content_play.*import java.util.*class PlayActivity : MvpAppCompatActivity(), NavigationView.OnNavigationItemSelectedListener, MainView {    lateinit var mDominoArray: List<ImageButton>    @InjectPresenter    lateinit var mPresenter: MainPresenter    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_play)        setSupportActionBar(toolbar)        val toggle = ActionBarDrawerToggle(this, drawerMenu, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)        drawerMenu.addDrawerListener(toggle)        toggle.syncState()        mDominoArray = ArrayList(Arrays.asList(imageButton1, imageButton2, imageButton3, imageButton4, imageButton5,                imageButton6, imageButton7, imageButton8, imageButton9, imageButton10,                imageButton11, imageButton12, imageButton13, imageButton14, imageButton15,                imageButton16, imageButton17, imageButton18, imageButton19, imageButton20,                imageButton21, imageButton22, imageButton23, imageButton24, imageButton25,                imageButton26, imageButton27, imageButton28))        mPresenter.startGame(this)        navigationView.setNavigationItemSelectedListener(this)    }    override fun onBackPressed() {        if (drawerMenu.isDrawerOpen(GravityCompat.START)) {            drawerMenu.closeDrawer(GravityCompat.START)        } else {            super.onBackPressed()        }    }    override fun onNavigationItemSelected(item: MenuItem): Boolean {        // Handle navigation view item clicks here.        when (item.itemId) {            R.id.nav_game -> {                mPresenter.stopGame()                mPresenter.startGame(this)            }            R.id.nav_stats -> mPresenter.showStats(this)            R.id.nav_help -> mPresenter.showRules(this)            R.id.nav_exit -> finish()            else -> {            }        }        drawerMenu.closeDrawer(GravityCompat.START)        return true    }    override fun showPick(pick: Int) {        mDominoArray.forEach {            if (it.id == pick){                it.setBackgroundResource(resources.getIdentifier("selection_bg", "drawable", packageName))            }        }    }    override fun cancelPick() {        mDominoArray.forEach {            it.setBackgroundResource(resources.getIdentifier("colorTransparent", "colors", packageName))        }    }}